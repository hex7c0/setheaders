"use strict";

function setHeader(res, name, value, protect, override, writable) {
    if (override === !0 && res._headers && void 0 !== res._headers[name]) return !0;
    if (writable === !0 && res._headerSent && res.finished) return !1;
    if (res.setHeader(name, value), protect === !0) {
        var low = name.toLowerCase(), previous = Object.getOwnPropertyDescriptor(res._headers, low);
        if (void 0 !== previous && previous.configurable === !1) return !1;
        Object.defineProperty(res._headers, low, {
            configurable: !1,
            enumerable: !0,
            get: function() {
                return value;
            },
            set: function() {}
        });
    }
    return !0;
}

function setProctedHeader(res, name, value) {
    res.setHeader(name, value);
    var low = name.toLowerCase(), previous = Object.getOwnPropertyDescriptor(res._headers, low);
    return (void 0 === previous || previous.configurable !== !1) && (Object.defineProperty(res._headers, low, {
        configurable: !1,
        enumerable: !0,
        get: function() {
            return value;
        },
        set: function() {}
    }), !0);
}

function setOverrideHeader(res, name, value) {
    return !(!res._headers || void 0 === res._headers[name]) || (res.setHeader(name, value), 
    !0);
}

function setWritableHeader(res, name, value) {
    return (!res._headerSent || !res.finished) && (res.setHeader(name, value), !0);
}

module.exports = setHeader, module.exports.setProctedHeader = setProctedHeader, 
module.exports.setOverrideHeader = setOverrideHeader, module.exports.setWritableHeader = setWritableHeader;
